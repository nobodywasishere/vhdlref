<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href=css/main.css />
    <link rel="stylesheet" href=css/code.css />
    <link rel="apple-touch-icon" sizes="57x57"         href=assets/icons/apple-icon-57x57.png>
    <link rel="apple-touch-icon" sizes="60x60"         href=assets/icons/apple-icon-60x60.png>
    <link rel="apple-touch-icon" sizes="72x72"         href=assets/icons/apple-icon-72x72.png>
    <link rel="apple-touch-icon" sizes="76x76"         href=assets/icons/apple-icon-76x76.png>
    <link rel="apple-touch-icon" sizes="114x114"       href=assets/icons/apple-icon-114x114.png>
    <link rel="apple-touch-icon" sizes="120x120"       href=assets/icons/apple-icon-120x120.png>
    <link rel="apple-touch-icon" sizes="144x144"       href=assets/icons/apple-icon-144x144.png>
    <link rel="apple-touch-icon" sizes="152x152"       href=assets/icons/apple-icon-152x152.png>
    <link rel="apple-touch-icon" sizes="180x180"       href=assets/icons/apple-icon-180x180.png>
    <link rel="icon" type="image/png" sizes="192x192"  href=assets/icons/android-icon-192x192.png>
    <link rel="icon" type="image/png" sizes="32x32"    href=assets/icons/favicon-32x32.png>
    <link rel="icon" type="image/png" sizes="96x96"    href=assets/icons/favicon-96x96.png>
    <link rel="icon" type="image/png" sizes="16x16"    href=assets/icons/favicon-16x16.png>
</head>


<body>

    <div id="content">

        <title>Next Statement</title>

<span>
    <h2 style="align-items: center;">
        <a href=index.html class="text-norm">
            <img src="assets/icon.svg" alt="logo" style="vertical-align:middle; margin: auto 2px 5px auto; width: 50px; height: 50px" />
            VHDLref
        </a>
    </h2>
</span>

<hr>

<h1>Next Statement</h1>

<br>
<div class="chart">
    <table class="chart">
        <tr>
            <td bgcolor="lightcyan">
                
                Sequential Statement
                
                
            </td>

            
            
            <td style="border: 0px solid transparent; width: 24%">——used—in—></td>

            <td bgcolor="lightgreen">
                
                Loop
                
                <br>
                
                
                For Loop
                
                <br>
                
                
                While Loop
                
                
            </td>
            
        </tr>

        
        
    </table>
</div>
<br>
<h3 class="text-hr"><span>Syntax</span></h3>

<!-- include the vhdl tag to highlight as vhdl -->
<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">next</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">next</span> <span class="n">loop_label</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">next</span> <span class="n">loop_label</span> <span class="k">when</span> <span class="n">condition</span><span class="p">;</span>
</code></pre></div></div>

<p>See LRM section 8.9</p>

<h3 class="text-hr"><span>Rules and Examples</span></h3>

<p>The <strong>next</strong> statement is used to prematurely terminate the current iteration of a <strong>while</strong>, <strong>for</strong> or infinite <strong>loop</strong>:</p>
<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">I</span> <span class="k">in</span> <span class="mi">0</span> <span class="k">to</span> <span class="mi">7</span> <span class="k">loop</span>
    <span class="k">if</span> <span class="n">SKIP</span> <span class="o">=</span> <span class="sc">'1'</span> <span class="k">then</span>
        <span class="k">next</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="n">N_BUS</span> <span class="o">&lt;=</span> <span class="n">TABLE</span><span class="p">(</span><span class="n">I</span><span class="p">);</span>
        <span class="k">wait</span> <span class="k">for</span> <span class="mi">5</span> <span class="n">ns</span><span class="p">;</span>
    <span class="k">end</span> <span class="k">if</span><span class="p">;</span>
<span class="k">end</span> <span class="k">loop</span><span class="p">;</span>
</code></pre></div></div>

<p>The next statement may test a boolean condition directly using the <strong>when</strong> keyword:</p>
<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">process</span> <span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="k">begin</span>
    <span class="n">Z</span> <span class="o">&lt;=</span> <span class="s1">"0000"</span><span class="p">;</span>
    <span class="k">for</span> <span class="n">I</span> <span class="k">in</span> <span class="mi">0</span> <span class="k">to</span> <span class="mi">3</span> <span class="k">loop</span>
        <span class="k">next</span> <span class="k">when</span> <span class="n">A</span> <span class="o">/=</span> <span class="n">I</span><span class="p">;</span>
        <span class="n">Z</span><span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="sc">'1'</span><span class="p">;</span>
    <span class="k">end</span> <span class="k">loop</span><span class="p">;</span>
<span class="k">end</span> <span class="k">process</span><span class="p">;</span>
</code></pre></div></div>

<p>For a next statement within a set of nested loops, the optional loop label may be used to indicate which level of loop is to be iterated. The default (no label) is the innermost loop. If an outer loop is specified, loops inside are effectively exited:</p>
<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">READ_BUS</span><span class="p">:</span> <span class="k">process</span>
<span class="k">begin</span>
    <span class="n">RESETLOOP</span><span class="p">:</span> <span class="k">loop</span>

        <span class="n">VALID_CHECK</span><span class="p">:</span> <span class="k">while</span>
            <span class="p">(</span><span class="n">CPU_DATA_VALID</span> <span class="o">/=</span> <span class="sc">'1'</span><span class="p">)</span> <span class="k">loop</span>
            <span class="k">wait</span> <span class="k">until</span> <span class="n">rising_edge</span><span class="p">(</span><span class="n">CLK</span><span class="p">)</span> <span class="ow">or</span> <span class="n">RESET</span> <span class="o">=</span> <span class="sc">'1'</span><span class="p">;</span>
            <span class="k">next</span> <span class="n">RESETLOOP</span> <span class="k">when</span> <span class="n">RESET</span><span class="o">=</span><span class="sc">'1'</span><span class="p">;</span>
        <span class="k">end</span> <span class="k">loop</span> <span class="n">VALID_CHECK</span><span class="p">;</span>

        <span class="n">CPU_DATA_READ</span> <span class="o">&lt;=</span> <span class="sc">'1'</span><span class="p">;</span>
        <span class="k">wait</span> <span class="k">until</span> <span class="n">rising_edge</span><span class="p">(</span><span class="n">CLK</span><span class="p">);</span>
        <span class="n">LOCAL_BUFFER</span> <span class="o">&lt;=</span> <span class="n">DATA_BUS</span><span class="p">;</span>
        <span class="k">wait</span> <span class="k">until</span> <span class="n">rising_edge</span><span class="p">(</span><span class="n">CLK</span><span class="p">);</span>
        <span class="n">CPU_DATA_READ</span> <span class="o">&lt;=</span> <span class="sc">'0'</span><span class="p">;</span>

    <span class="k">end</span> <span class="k">loop</span> <span class="n">RESETLOOP</span><span class="p">;</span>
<span class="k">end</span> <span class="k">process</span> <span class="n">READ_BUS</span><span class="p">;</span>
</code></pre></div></div>

<h3 class="text-hr"><span>Synthesis Issues</span></h3>

<p>The next statement is supported by some logic synthesis tools, with certain restrictions.</p>

<h3 class="text-hr"><span>New in VHDL-93</span></h3>

<p>In VHDL-93, the next statement may have an optional label:</p>
<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">label</span> <span class="k">next</span> <span class="n">loop_label</span><span class="p">;</span>
</code></pre></div></div>



<br>
<hr>


        <div id="footer">
            <h6>v1.0 - &copy; 2020 Michael Riegert - <a href="https://github.com/nobodywasishere/vhdlref">View on Github</a>
<br>Distributed under the terms of the <a href="LICENSE.html">MIT License</a></h6>

        </div>
    </div>

</body>

</html>
