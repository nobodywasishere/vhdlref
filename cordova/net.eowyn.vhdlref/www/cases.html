<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href=css/main.css />
    <link rel="stylesheet" href=css/code.css />
    <link rel="apple-touch-icon" sizes="57x57"         href=assets/icons/apple-icon-57x57.png>
    <link rel="apple-touch-icon" sizes="60x60"         href=assets/icons/apple-icon-60x60.png>
    <link rel="apple-touch-icon" sizes="72x72"         href=assets/icons/apple-icon-72x72.png>
    <link rel="apple-touch-icon" sizes="76x76"         href=assets/icons/apple-icon-76x76.png>
    <link rel="apple-touch-icon" sizes="114x114"       href=assets/icons/apple-icon-114x114.png>
    <link rel="apple-touch-icon" sizes="120x120"       href=assets/icons/apple-icon-120x120.png>
    <link rel="apple-touch-icon" sizes="144x144"       href=assets/icons/apple-icon-144x144.png>
    <link rel="apple-touch-icon" sizes="152x152"       href=assets/icons/apple-icon-152x152.png>
    <link rel="apple-touch-icon" sizes="180x180"       href=assets/icons/apple-icon-180x180.png>
    <link rel="icon" type="image/png" sizes="192x192"  href=assets/icons/android-icon-192x192.png>
    <link rel="icon" type="image/png" sizes="32x32"    href=assets/icons/favicon-32x32.png>
    <link rel="icon" type="image/png" sizes="96x96"    href=assets/icons/favicon-96x96.png>
    <link rel="icon" type="image/png" sizes="16x16"    href=assets/icons/favicon-16x16.png>
</head>


<body>

    <div id="content">

        <title>Case Statement</title>

<span>
    <h2 style="align-items: center;">
        <a href=index.html class="text-norm">
            <img src="assets/icons/android-icon-48x48.png" alt="logo" style="vertical-align:middle; margin: auto 2px 5px auto;" />
            VHDLref
        </a>
    </h2>
</span>

<hr>

<h1>Case Statement</h1>

<br>
<div class="chart">
    <table class="chart">
        <tr>
            <td bgcolor="lightcyan">
                
                Sequential Statement
                
                
            </td>

            
            
            <td style="border: 0px solid transparent">——used—in—></td>

            <td bgcolor="lightgreen">
                
                Process
                
                <br>
                
                
                Function
                
                <br>
                
                
                Procedure
                
                
            </td>
            
        </tr>

        
        
    </table>
</div>
<br>
<h3 class="text-hr"><span>Syntax</span></h3>

<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">case</span> <span class="n">expression</span> <span class="k">is</span>
    <span class="k">when</span> <span class="n">choice</span> <span class="o">=&gt;</span>
        <span class="n">sequential</span> <span class="n">statements</span>
    <span class="k">when</span> <span class="n">choice</span> <span class="o">=&gt;</span>
        <span class="n">sequential</span> <span class="n">statements</span>
<span class="k">end</span> <span class="k">case</span><span class="p">;</span>
</code></pre></div></div>

<p>See LRM section 8.7</p>

<h3 class="text-hr"><span>Rules and Examples</span></h3>

<p>All possible choices must be included, unless the <strong>others</strong> clause is used as the last choice:</p>
<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">case</span> <span class="n">SEL</span> <span class="k">is</span>
    <span class="k">when</span> <span class="s1">"01"</span> <span class="o">=&gt;</span>   <span class="n">Z</span> <span class="o">&lt;=</span>  <span class="n">A</span><span class="p">;</span>
    <span class="k">when</span> <span class="s1">"10"</span> <span class="o">=&gt;</span>   <span class="n">Z</span> <span class="o">&lt;=</span>  <span class="n">B</span><span class="p">;</span>
    <span class="k">when</span> <span class="k">others</span> <span class="o">=&gt;</span> <span class="n">Z</span> <span class="o">&lt;=</span> <span class="sc">'X'</span><span class="p">;</span>
<span class="k">end</span> <span class="k">case</span><span class="p">;</span>
</code></pre></div></div>

<p>A range or a selection may be specified as a choice:</p>
<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">case</span> <span class="n">INT_A</span> <span class="k">is</span>
    <span class="k">when</span> <span class="mi">0</span>      <span class="o">=&gt;</span>  <span class="n">Z</span> <span class="o">&lt;=</span>  <span class="n">A</span><span class="p">;</span>
    <span class="k">when</span> <span class="mi">1</span> <span class="k">to</span> <span class="mi">3</span> <span class="o">=&gt;</span>  <span class="n">Z</span> <span class="o">&lt;=</span>  <span class="n">B</span><span class="p">;</span>
    <span class="k">when</span> <span class="mi">4</span><span class="err">|</span><span class="mi">6</span><span class="err">|</span><span class="mi">8</span>  <span class="o">=&gt;</span>  <span class="n">Z</span> <span class="o">&lt;=</span>  <span class="n">C</span><span class="p">;</span>
    <span class="k">when</span> <span class="k">others</span> <span class="o">=&gt;</span>  <span class="n">Z</span> <span class="o">&lt;=</span> <span class="sc">'X'</span><span class="p">;</span>
<span class="k">end</span> <span class="k">case</span><span class="p">;</span>
</code></pre></div></div>

<p>Choices may not overlap:</p>
<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">case</span> <span class="n">INT_A</span> <span class="k">is</span>
    <span class="k">when</span> <span class="mi">0</span>      <span class="o">=&gt;</span>  <span class="n">Z</span> <span class="o">&lt;=</span>  <span class="n">A</span><span class="p">;</span>
    <span class="k">when</span> <span class="mi">1</span> <span class="k">to</span> <span class="mi">3</span> <span class="o">=&gt;</span>  <span class="n">Z</span> <span class="o">&lt;=</span>  <span class="n">B</span><span class="p">;</span>
    <span class="k">when</span> <span class="mi">2</span><span class="err">|</span><span class="mi">6</span><span class="err">|</span><span class="mi">8</span>  <span class="o">=&gt;</span>  <span class="n">Z</span> <span class="o">&lt;=</span>  <span class="n">C</span><span class="p">;</span>   <span class="c1">-- illegal</span>
    <span class="k">when</span> <span class="k">others</span> <span class="o">=&gt;</span>  <span class="n">Z</span> <span class="o">&lt;=</span> <span class="sc">'X'</span><span class="p">;</span>
<span class="k">end</span> <span class="k">case</span><span class="p">;</span>
</code></pre></div></div>

<p>A range may not be used with a vector type:</p>
<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">case</span> <span class="n">VEC</span> <span class="k">is</span>
    <span class="k">when</span> <span class="s1">"000"</span> <span class="k">to</span> <span class="s1">"010"</span> <span class="o">=&gt;</span>  
        <span class="n">Z</span> <span class="o">&lt;=</span> <span class="n">A</span><span class="p">;</span>   <span class="c1">-- illegal</span>
    <span class="k">when</span> <span class="s1">"111"</span>   <span class="o">=&gt;</span>  <span class="n">Z</span> <span class="o">&lt;=</span> <span class="n">B</span><span class="p">;</span>
    <span class="k">when</span> <span class="k">others</span>  <span class="o">=&gt;</span>  <span class="n">Z</span> <span class="o">&lt;=</span> <span class="sc">'X'</span><span class="p">;</span>
<span class="k">end</span> <span class="k">case</span><span class="p">;</span>
</code></pre></div></div>

<p>See also the <strong>null</strong> statement.</p>

<h3 class="text-hr"><span>Synthesis Issues</span></h3>

<p>The <strong>case</strong> statement is generally synthesizable.</p>

<p>With repeated assignments to a target signal, it will synthesize to a large multiplexer with logic on the select inputs to evaluate the conditions for the different choices in the case statement branches. No “priority” will be inferred from the order of the branches</p>

<p>With multiple targets and embedded <strong>if</strong> statements, the <strong>case</strong> statement may be used to synthesize a general mapping function, e.g. next state and output generation for a finite state machine. For example:</p>
<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">case</span> <span class="n">READ_CPU_STATE</span> <span class="k">is</span>
    <span class="k">when</span> <span class="n">WAITING</span> <span class="o">=&gt;</span>
        <span class="k">if</span> <span class="n">CPU_DATA_VALID</span> <span class="o">=</span> <span class="sc">'1'</span> <span class="k">then</span>
            <span class="n">CPU_DATA_READ</span>  <span class="o">&lt;=</span> <span class="sc">'1'</span><span class="p">;</span>
            <span class="n">READ_CPU_STATE</span> <span class="o">&lt;=</span> <span class="n">DATA1</span><span class="p">;</span>
        <span class="k">end</span> <span class="k">if</span><span class="p">;</span>
    <span class="k">when</span> <span class="n">DATA1</span> <span class="o">=&gt;</span>
        <span class="c1">-- etc.</span>
<span class="k">end</span> <span class="k">case</span><span class="p">;</span>
</code></pre></div></div>

<h3 class="text-hr"><span>New in VHDL-93</span></h3>

<p>In VHDL-93, the <strong>case</strong> statement may have an optional label:</p>

<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">label</span><span class="p">:</span> <span class="k">case</span> <span class="n">expression</span> <span class="k">is</span>
    <span class="c1">-- etc.</span>
<span class="k">end</span> <span class="k">case</span> <span class="k">label</span><span class="p">;</span>
</code></pre></div></div>



<br>
<hr>


        <div id="footer">
            <h6>v1.0 - &copy; 2020 Michael Riegert - <a href="https://github.com/nobodywasishere/vhdlref">View on Github</a>
<br>Distributed under the terms of the <a href="LICENSE.html">MIT License</a></h6>

        </div>
    </div>

</body>

</html>
